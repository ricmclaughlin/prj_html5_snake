function resetScore(){localStorage.highscore=0;var e=document.getElementById("highscore");e.innerHTML="High Score: 0"}$(document).ready(function(){function e(){t(),o(),c=0,y="right","undefined"!=typeof game_loop&&clearInterval(game_loop),game_loop=setInterval(r,m)}function t(){var e=5;h=[];for(var t=e-1;t>=0;t--)h.push({x:t,y:0})}function o(){i={x:Math.round(Math.random()*(u-d)/d),y:Math.round(Math.random()*(s-d)/d)}}function r(){var e=h[0].x,t=h[0].y;if(f.fillStyle="black",f.fillRect(0,0,u,s),f.strokeStyle="white",f.strokeRect(0,0,u,s),"right"===y?e++:"left"===y?e--:"up"===y?t--:"down"===y&&t++,-1==e||e==u/d||-1==t||t==s/d||l(e,t,h))return $("#final_score").html(c),void $("#overlay").fadeIn(300);if(e===i.x&&t===i.y){var r={x:e,y:t};c++,o()}else{var r=h.pop();r.x=e,r.y=t}h.unshift(r);for(var g=0;g<h.length;g++){var m=h[g];n(m.x,m.y)}n(i.x,i.y),a(c),$("#score").html("Your Score: "+c)}function n(e,t){f.fillStyle=v,f.fillRect(e*d,t*d,d,d),f.strokeStyle="white",f.strokeRect(e*d,t*d,d,d)}function l(e,t,o){for(var r=0;r<o.length;r++)if(o[r].x==e&&o[r].y==t)return!0;return!1}function a(e){null==localStorage.getItem("highscore")?localStorage.setItem("highscore",e):e>=localStorage.getItem("highscore")&&localStorage.setItem("highscore",e),$("#highscore").html("High Score: "+localStorage.highscore)}var i,c,h,g=$("#canvas")[0],f=g.getContext("2d"),u=g.width,s=g.height,d=15,y="right",m=130,v="green";e(),$(document).keydown(function(e){var t=e.which;"37"==t&&"right"!=y?y="left":"38"==t&&"down"!=y?y="up":"39"==t&&"left"!=y?y="right":"40"==t&&"up"!=y&&(y="down")})});